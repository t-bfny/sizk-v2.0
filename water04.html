<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Water Vibes</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
    <video autoplay muted loop playsinline id="bgVideo">
        <source src="on_the_cliff.webm" type="video/webm">
        Your browser does not support the video tag.
      </video>
    <div class="water"></div>
    <canvas id="spectrumCanvas"></canvas>
  <div class="content">
    <button id="playWater1">æ°´ã®ã—ãšã</button>
    <button id="playWater2">é¢¨éˆ´ã®éŸ³</button>
    <button id="toggleBgm">BGM OFF</button>

    <div class="volume-control">
      ğŸ”‰ BGMéŸ³é‡ï¼š
      <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1">
    </div>
  </div>
  
  <!-- BGM -->
  <audio id="bgm" src="aranami.mp3" loop></audio>

  <!-- åŠ¹æœéŸ³ -->
  <audio id="water1" src="Water_Drop03-1(Low-Reverb).mp3"></audio>
  <audio id="water2" src="windchime.mp3"></audio>
  <script>
    const water1 = document.getElementById("water1");
    const water2 = document.getElementById("water2");
    const bgm = document.getElementById("bgm");

    const playWater1 = document.getElementById("playWater1");
    const playWater2 = document.getElementById("playWater2");
    const toggleBgm = document.getElementById("toggleBgm");
    const volumeSlider = document.getElementById("volumeSlider");

    let bgmEnabled = true;

    // åŠ¹æœéŸ³ã®å†ç”Ÿ
    playWater1.addEventListener("click", () => {
      water1.currentTime = 0;
      water1.play();
    });

    playWater2.addEventListener("click", () => {
      water2.currentTime = 0;
      water2.play();
    });

    // BGM ON/OFF åˆ‡ã‚Šæ›¿ãˆ
    toggleBgm.addEventListener("click", () => {
      if (bgmEnabled) {
        bgm.pause();
        toggleBgm.textContent = "BGM ON";
      } else {
        bgm.play();
        toggleBgm.textContent = "BGM OFF";
      }
      bgmEnabled = !bgmEnabled;
    });

    // ãƒœãƒªãƒ¥ãƒ¼ãƒ èª¿æ•´
    volumeSlider.addEventListener("input", () => {
      bgm.volume = volumeSlider.value;
    });

    // ãƒ¢ãƒã‚¤ãƒ«ãƒ–ãƒ©ã‚¦ã‚¶å¯¾ç­–ï¼ˆæœ€åˆã®æ“ä½œã§å†ç”Ÿè¨±å¯ï¼‰
    window.addEventListener("click", () => {
      if (!bgmEnabled) return;
      if (bgm.paused) {
        bgm.play().catch(() => {});
      }
    });

    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«è‡ªå‹•å†ç”Ÿ
    window.addEventListener("load", () => {
      bgm.volume = volumeSlider.value;
      bgm.play().catch(() => {});
    });

  </script>

ã€€<script src="script.js">ã€€</script>
</body>
</html>
